<div class="container">
  <div class="row">
    <div class="panel panel-default top-display">
      <div class="panel-body panel-contrast"><span class="dx-icon-arrowleft icon" (click)="onArrowBack($event)"></span> {{processesTitle}}</div>
    </div>
    <!--SEARCH BAR-->
    <div class="dx-searchbar top-display search-bar">
      <dx-text-box valueChangeEvent="keyup" [placeholder]="'Search ' + processesTitle" mode="search" (onValueChanged)="search($event)" class="text-display">
      </dx-text-box>
      <dx-button (click)="isVisible = true;" text="+" class="btn-display" *ngIf="currentProcessType == 'MOPS'">
      </dx-button>
      <dx-popup #MyPopup show-title="true" title="Add New Mop Details" [visible]="isVisible">
        <div *dxTemplate="let data of 'content'">
          <form (ngSubmit)="addCompany()">
            <div class="form-group">
              <label for="topic-id">Enter Mop Name:</label>
              <input type="text" class="form-control" id="topic-id" placeholder="Enter Mop Name" name="name" [(ngModel)]="companyName">
            </div>
            <div class="form-group">
              <input type="submit" class="btn btn-warning" value="Add" />
            </div>
          </form>
        </div>
      </dx-popup>
    </div>
    <!--MOP PROCESSES LISTING-->
    <div class="list-container">
      <dx-list [dataSource]="processesDataSource">
        <div *dxTemplate="let data of 'item';let i = index" class="list-display">
          <img [src]="getCurrentImgSrc(data)" />
          <div class="tab-display" (click)="selectProcess(data)" id="iq" (mouseenter)="setIqCode(data); withTemplateVisible = true;" (mouseleave)="withTemplateVisible = false; showIqCode = false;">{{getCurrentProcessDescription(data)}}</div>
          <span *ngIf="currentProcessType=='process'" class="label label-success label-display">{{data.phases.code}} - {{data.phases.description}}</span>
          <div *ngIf="showIqCode" class="iq-code">
            <dx-tooltip target="#iq" [(visible)]="withTemplateVisible">
              <div *dxTemplate="let data = data of 'content'">
                {{iqCode}}
              </div>
            </dx-tooltip>
          </div>
        </div>
      </dx-list>
    </div>
  </div>
</div>
